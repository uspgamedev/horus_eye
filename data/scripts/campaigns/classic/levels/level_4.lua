music = "musics/Arabesque.ogg"
width = 60 
height = 60
rooms = { { 0, 0, "stage" }}

start_position = { "stage", 3, 2 }
stage = {
  width = 60,
  height = 60,
  matrix = [[
###E#####                #############                      
%..@....#                %...........#                      
%.......#                %...........#                      
%.......#                %..........R#                      
%.......#################%.....%.....#                      
%......S.......................%.....#                      
%......S.......................%....R#                      
%.......%%%%%%%%%%%%%%%%%%.....%.....#                      
%.......%                %.....%.....#                      
%%%%%%%%%                %..........R#                      
                         %...........#                      
                         %L.........N#                      
                         %%%%%...#####                      
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                           ##%...###                        
                        ####.......####                     
                      ###.............###                   
                     ##........B........##                  
                    ##S.....B.....B.....S##                 
                    %.....................#                 
                    %........%%%%%........#                 
                    %R......##   %%......R#                 
                    %......##     %%......#                 
                    %......#       %......#                 
                    %R.....#       %.....R#                 
                    %......#       %......#                 
                    %......##     %%......#                 
                    %R......##   #%......R#                 
                    %........#####........#                 
                    %.....................#                 
                    %%....M...M.M...M....%#                 
                     %%S...............S%%                  
                      %%...............%%                   
                       %%%...........%%%                    
                         %%%%%...%%%%%                      
                             %...#                          
                             %.M.#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                             %...#                          
                       ######%...#######                    
                       %...............#                    
                       %...............#                    
                       %......DD...U...#                    
                       %...............#                    
                       %......LN.......#                    
                       %...............#                    
                       %...............#                    
                       %%%%%%%%%%%%%%%%#                    
]]
}

oldmatrix = stage.matrix
stage.matrix = ""
for line in oldmatrix:gmatch("[^\n]+") do stage.matrix = line .. "\n" .. stage.matrix end
start_position[3] = height - start_position[3]

function new()
  local level = {}
  function level:Start(native, campaign)
    campaign:LevelStart(native, start_position)
  end
  function level:End(native, campaign) end
  return level
end
